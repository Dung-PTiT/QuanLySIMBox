<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{template}">
<head>
    <meta charset="utf-8">
    <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
    <title>Quản lý thiết bị</title>
    <link th:href="@{/css/device.css}" rel="stylesheet" type="text/css">
    <script th:src="@{/js/device.js}"></script>
    <style>
        .container-fluid {
            padding-left: 0 !important;
            padding-right: 0 !important;
        }

        .row {
            margin-left: 0 !important;
            margin-right: 0 !important;
        }

        .btn-action {
            border: none;
            border-radius: 10px;
            background-color: #fff;
        }

        .dropdown-menu {
            min-width: 10.25rem !important;
        }

        #overlay_spinner_1 {
            /*position: absolute;*/
            /*display: none;*/
            background: #ffffff;
        }

        .cv-spinner {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .spinner {
            width: 18px;
            height: 18px;
            border: 4px #c7c7c7 solid;
            border-top: 4px #0010f9 solid;
            border-radius: 50%;
            animation: sp-anime 0.8s infinite linear;
        }

        @keyframes sp-anime {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(359deg);
            }
        }

        .divDisabled {
            pointer-events: none;
            color: #c7c7c7;
        }

        .btn-action-device {
            border: none;
            border-radius: 5px;
            background-color: #ffffff;
            padding: 2px;
            margin-left: 2px;
            margin-right: 2px;
        }
    </style>
<body>
<div class="content">
    <section class="bg-light h-100" layout:fragment="content_body">
        <div class="row" style="height: 100vh; background-color: #ffffff;">
            <div class="col-sm-12 col-md-12">
                <div class="card-header">
                    <h5 class="card-title font-weight-bold mb-2">Quản lý thiết bị</h5>
                    <div style="justify-content: space-between; display: flex">
                        <span class="card-title" style="display: flex">
                            <ul class="nav nav-tabs nav-tabs-bottom border-bottom-0 mb-0">
                                <li class="nav-item" onclick="showTab('all')">
                                    <a href="#" class="nav-link pl-0 active" data-toggle="tab">
                                        <span class="text-dark font-weight-bold">Tất cả</span>
                                        <span class="badge badge-info badge-pill ml-2" id="device_all"></span>
                                    </a>
                                </li>
                                <li class="nav-item ml-3" onclick="showTab('on')">
                                    <a href="#" class="nav-link pl-0" data-toggle="tab">
                                        <span class="text-dark font-weight-bold">Đang hoạt động</span>
                                        <span class="badge badge-success badge-pill ml-2" id="device_on"></span>
                                    </a>
                                </li>
                                <li class="nav-item ml-3" onclick="showTab('off')">
                                    <a href="#" class="nav-link pl-0" data-toggle="tab">
                                        <span class="text-dark font-weight-bold">Đang tắt</span>
                                        <span class="badge badge-dark badge-pill ml-2" id="device_off"></span>
                                    </a>
                                </li>
                                <span id="device_status" style="display: none">all</span>
                            </ul>
                        </span>
                        <div>
                            <p>
                                <img style="width:16px;height:16px;opacity: 0.5" src="./images/cpu.svg">
                                <span class="text-grey">CPU used: </span>
                                <span class="font-weight-bold" id="cpu">40</span>%</p>
                            <p>
                                <img style="width:16px;height:16px;opacity: 0.5" src="./images/ram.svg">
                                <span class="text-grey">RAM used: </span>
                                <span class="font-weight-bold" id="ram">30</span>%
                            </p>
                        </div>
                    </div>
                    <div class="row mt-1">
                        <div class="col-12 pl-0 d-flex justify-content-between">
                            <div>
                                <div class="btn-group justify-content-center">
                                    <a href="#" class="btn btn-filter dropdown-toggle legitRipple"
                                       data-toggle="dropdown">
                                        Khay hành động
                                    </a>
                                    <div class="dropdown-menu">
                                        <div class="dropdown-item divDisabled" id="restartDevice"
                                            onclick="restartDevice()">
                                            <fa class="fa fa-sync mr-2"></fa>
                                            <span>Khởi động lại</span>
                                            <span class="ml-2" style="position: absolute;right: 10px;"
                                                  id="restartDeviceNumber"></span>
                                        </div>
                                        <div class="dropdown-item divDisabled" id="turnOffDevice"
                                             onclick="turnoffMultiDevice()">
                                            <fa class="fa fa-power-off mr-2"></fa>
                                            <span>Tắt</span>
                                            <span style="position: absolute;right: 10px;"
                                                  id="turnOffDeviceNumber"></span>
                                        </div>
                                        <div class="dropdown-item divDisabled" id="turnOnDevice"
                                             onclick="turnOnMultiDevice()">
                                            <fa class="fa fa-power-off mr-2"></fa>
                                            <span>Bật</span>
                                            <span style="position: absolute;right: 10px;"
                                                  id="turnOnDeviceNumber"></span>
                                        </div>
                                        <div class="dropdown-item divDisabled" data-toggle="modal"
                                             data-target="#modal_chay_kich_ban" id="runScriptDevice">
                                            <fa class="fa fa-play mr-2"></fa>
                                            <span>Chạy kịch bản</span>
                                            <span style="position: absolute;right: 10px;"
                                                  id="runScriptDeviceNumber"></span>
                                        </div>
                                        <div class="dropdown-item divDisabled" id="deleteDevice"
                                        onclick="deleteDevice()">
                                            <fa class="fa fa-trash-alt mr-2"></fa>
                                            <span>Xóa thiết bị</span>
                                            <span style="position: absolute;right: 10px;"
                                                  id="deleteDeviceNumber"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="ml-3 btn-group align-items-center justify-content-center">
                                    <div>
                                        <button id="btnShowAddDeviceModal" class="btn btn-filter legitRipple"
                                                onclick="showAddDeviceModal()">
                                            <fa class="fa fa-plus-circle mr-2 text-info"></fa>
                                            <span>Thêm thiết bị</span>
                                        </button>
                                    </div>
                                    <!--                                    <div id="overlay_spinner_1">-->
                                    <!--                                        <div class="cv-spinner">-->
                                    <!--                                            <span class="spinner"></span>-->
                                    <!--                                        </div>-->
                                    <!--                                    </div>-->
                                </div>
                                <div class="ml-3 btn-group justify-content-center">
                                    <div class="form-group-feedback form-group-feedback-right" style="display: flex">
                                        <input id="search_input" type="text" class="btn-filter"
                                               placeholder="Tìm kiếm thiết bị" autocomplete="off" style="width: 260px;">
                                        <button onclick="getData()" class="btn legitRipple"
                                                style="left: -50px; border-radius: 3px; height: 34px">
                                            <i class="icon-search4 pb-1"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <span>Số dòng:</span>
                                <select id="selectNumberRecord">
                                    <option value="10" selected>10</option>
                                    <option value="25">25</option>
                                    <option value="50">50</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="table-responsive-1">
                        <table class="table table-bordered text-center">
                            <thead>
                            <tr class="text-center" style="background-color: #f2f2f2">
                                <th>
                                    <input type="checkbox" id="select_all" onclick="getDeviceIdList()"/>
                                </th>
                                <th>Device ID</th>
                                <th>Trạng thái</th>
                                <th>Ứng dụng</th>
                                <th>Tài khoản</th>
                                <th>Kịch bản</th>
                                <th>Tiến trình</th>
                                <th>Chi tiết</th>
                                <th style="width: 14%">Hành động</th>
                            </tr>
                            </thead>
                            <tbody id="device_table_body">
                            <!--                            <tr>-->
                            <!--                                <td>-->
                            <!--                                    <input class="checkbox" type="checkbox">-->
                            <!--                                    <span class="ml-2">1</span>-->
                            <!--                                </td>-->
                            <!--                                <td>127.0.0.1:8080</td>-->
                            <!--                                <td><span class="badge bg-blue">Running</span></td>-->
                            <!--                                <td>Account 1</td>-->
                            <!--                                <td>-->
                            <!--                                    <img th:src="@{./images/brands/facebook.png}" class="rounded-circle" width="20"-->
                            <!--                                         height="20">-->
                            <!--                                    <span class="ml-2">Facebook</span>-->
                            <!--                                </td>-->
                            <!--                                <td>-->
                            <!--                                    <div class="progress rounded-round" style=" height:0.8rem">-->
                            <!--                                        <div class="progress-bar bg-success" style="width: 85%;">-->
                            <!--                                            <span class="text-center">85%</span>-->
                            <!--                                        </div>-->
                            <!--                                    </div>-->
                            <!--                                </td>-->
                            <!--                                <td>fa-01</td>-->
                            <!--                                <td>7478237984</td>-->
                            <!--                                <td>-->
                            <!--                                    <div class="list-icons">-->
                            <!--                                        <div x-placement="bottom-start">-->
                            <!--                                            <button class="btn btn-action-device" title="Xem màn hình">-->
                            <!--                                                <i class="icon-mobile text-primary"></i>-->
                            <!--                                            </button>-->
                            <!--                                            <button class="btn btn-action-device" title="Chạy">-->
                            <!--                                                <i class="icon-play4 text-success"></i>-->
                            <!--                                            </button>-->
                            <!--                                            <button class="btn btn-action-device" title="Tạm dừng">-->
                            <!--                                                <i class="icon-square text-danger"></i>-->
                            <!--                                            </button>-->
                            <!--                                            <button class="btn btn-action-device" title="Bật">-->
                            <!--                                                <i class="icon-close2 text-primary"></i>-->
                            <!--                                            </button>-->
                            <!--                                            <button class="btn btn-action-device" title="Kịch bản">-->
                            <!--                                                <i class="icon-cog text-dark"></i>-->
                            <!--                                            </button>-->
                            <!--                                            <button class="btn btn-action-device" title="Xem log">-->
                            <!--                                                <i class="icon-info3 text-info"></i>-->
                            <!--                                            </button>-->
                            <!--                                        </div>-->
                            <!--                                    </div>-->
                            <!--                                </td>-->
                            <!--                            </tr>-->
                            </tbody>
                        </table>
                        <div id="demo" class="row mt-2 justify-content-between">
                            <div>
                                <span>Hiển thị 1 đến 10 trong 100 bản ghi</span>
                            </div>
                            <div>
                                <div class="pagination">
                                    <a href="#" class="active">1</a>
                                    <a href="#">2</a>
                                    <a href="#">3</a>
                                    <a href="#">&raquo;</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="modal_chay_kich_ban" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
             aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modal_add_edit_title">Chạy kịch bản (<span>3</span>)
                        </h5>
                        <button type="button" class="close text-danger" data-dismiss="modal">×</button>
                    </div>
                    <div class="modal-body">
                        <div class="mt-3" style="display: flex; align-items: center">
                            <div>
                                <h6>Kịch bản</h6>
                            </div>
                            <div class="ml-3 btn-group justify-content-center">
                                <a href="#" class="btn btn-filter dropdown-toggle legitRipple"
                                   data-toggle="dropdown">
                                    Chọn
                                </a>
                                <div class="dropdown-menu">
                                    <div class="dropdown-item">
                                        <span>1</span>
                                    </div>
                                    <div class="dropdown-item">
                                        <span>2</span>
                                    </div>
                                    <div class="dropdown-item">
                                        <span>3</span>
                                    </div>
                                    <div class="dropdown-item">
                                        <span>4</span>
                                    </div>
                                    <div class="dropdown-item">
                                        <span>5</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-4" style="display: flex; justify-content: space-between">
                            <div>
                                <h6>Chọn tài khoản cho mỗi thiết bị</h6>
                            </div>
                            <div>
                                <a href="" class="text-primary">Auto</a>
                                <a href="" class="text-primary ml-2">Reset</a>
                            </div>
                        </div>
                        <form id="form_add_edit_user">
                            <div class="modal-body">
                                <div class="table-responsive">
                                    <table class="table table-bordered">
                                        <thead>
                                        <tr>
                                            <th>
                                                <span class="pl-2">Device</span>
                                            </th>
                                            <th>
                                                <span class="pl-2">Account</span>
                                            </th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>
                                                <span class="pl-2">127.0.0.1:8080</span>
                                            </td>
                                            <td style="display:flex; align-items: center; justify-content: space-between">
                                                <div>
                                                    <span class="pl-2">4238442034042_GG</span>
                                                </div>
                                                <button class="btn legitRipple">
                                                    <fa class="fa fa-pencil-alt"></fa>
                                                </button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <span class="pl-2">127.0.0.1:8080</span>
                                            </td>
                                            <td style="display:flex; align-items: center; justify-content: space-between">
                                                <div>
                                                    <span class="pl-2">4238442034042_GG</span>
                                                </div>
                                                <button class="btn legitRipple">
                                                    <fa class="fa fa-pencil-alt"></fa>
                                                </button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <span class="pl-2">127.0.0.1:8080</span>
                                            </td>
                                            <td style="display:flex; align-items: center; justify-content: space-between">
                                                <div>
                                                    <span class="pl-2">4238442034042_GG</span>
                                                </div>
                                                <button class="btn legitRipple">
                                                    <fa class="fa fa-pencil-alt"></fa>
                                                </button>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary mr-1 float-right">Chạy</button>
                        <button type="button" id="form_close" class="btn btn-secondary mr-1 float-right bg-danger"
                                data-dismiss="modal">Đóng
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="addDevice_popup" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
             aria-hidden="true" style="top: 180px!important;">
            <div class="modal-dialog" role="document" style="width: 400px">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="card-title font-weight-bold mb-2" >Thêm thiết bị</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="form-group row">
                                <label for="inputNumberDevice" class="col-4 col-form-label">Số lượng</label>
                                <div class="col-8s">
                                    <input type="number" class="form-control" id="inputNumberDevice"
                                           placeholder="Ví dụ: 1,2,3">
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer justify-content-center">
                        <button type="button" class="btn btn-primary p-1" onclick="addDevice()">Thêm</button>
                        <button type="button" class="btn btn-danger p-1" data-dismiss="modal">Đóng</button>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
</body>
</html>